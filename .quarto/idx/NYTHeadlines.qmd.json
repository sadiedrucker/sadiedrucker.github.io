{"title":"New York Times Headlines","markdown":{"yaml":{"title":"New York Times Headlines","format":{"html":{"code-fold":true}},"execute":{"message":false,"warning":false,"echo":true}},"headingText":"Filter to years 2001-2003","containsRefs":false,"markdown":"\n\nThis project analyzes emotional tone in New York Times article headlines using regular expressions (regex). To analyze the emotional tone of New York Times headlines, I defined negative and positive word lists using keywords that commonly indicate negative events or risks (e.g., *crisis, warning, fall, decline, collapse, turmoil*) and positive developments (e.g., *success, rise, growth, progress, recovery*). Regular expressions were used to detect these words in headlines, including variations such as plurals or related word forms, allowing me to categorize headlines as containing positive or negative emotional signals and analyze how these patterns vary over time.\n\nThe data come from the `NYTimes` dataset in the RTextTools package, which contains New York Times headlines, publication dates, and metadata.\n\n```{r}\nlibrary(tidyverse)\nlibrary(stringr)\nlibrary(lubridate)\nlibrary(RTextTools) \nlibrary(forcats)\n\n\ndata(NYTimes)\nnyt <- as_tibble(NYTimes)\n\nnyt<-nyt |>\n  mutate(Date=as.Date(Date, format = \"%d-%b-%y\"))\n\nnyt_clean <- nyt |>\n  mutate(\n    clean_headline = Title |>\n    str_to_lower() |>\n    str_replace_all(\"[^a-z\\\\s]\", \" \") |> # REGEX 1: remove non-letters\n    str_squish(),\n    year = year(Date),\n    month = floor_date(Date, \"month\")\n)\n\nnegative_pattern <- \"\\\\b(crisis|warning\\\\w*|fall\\\\w*|decline|collapse|turmoil)\\\\b\" #REGEX 2: negative statement list\npositive_pattern <- \"\\\\b(success|rise|growth|progress|improve|recovery|gain)\\\\b\" #REGEX3: positive statement list\nrise_pattern <- \"(?<!sun)rise\" #LOOKAROUND: ensures it only picks up rise when it is not associated with sunrise\n\n\nnyt_sentiment <- nyt_clean |>\nmutate(\nnegative = str_detect(clean_headline, negative_pattern),\npositive = str_detect(clean_headline, positive_pattern) | str_detect(clean_headline, rise_pattern)\n)\n\nsentiment_year <- nyt_sentiment |>\ngroup_by(year) |>\nsummarise(\npositive = sum(positive),\nnegative = sum(negative)\n)\n```\n\n```{r}\n#| fig-alt: \"This line plot shows total yearly counts of positive and negative NYT headlines. It highlights general trends in sentiment over time, with negative sentiment usually dominating.\"\nsentiment_year_long <- sentiment_year |>\npivot_longer(cols = c(positive, negative),\nnames_to = \"sentiment\", values_to = \"count\")\n\nggplot(sentiment_year_long, aes(x = year, y = count, color = sentiment)) +\n  geom_line(size = 1.2) +\n  geom_point(size = 2) +\n  scale_color_manual(values = c(\"positive\" = \"#72B01D\", \"negative\" = \"#7C0B2B\")) +\n  labs(\n    title = \"Yearly Emotional Tone in NYT Headlines\",\n    x = \"Year\",\n    y = \"Headline Count\",\n    color = \"Sentiment\", \n    caption= \"This line plot shows total yearly counts of positive and negative NYT headlines.\"\n   \n    ) +\n  theme_minimal()\n\n```\n\nThis graph provides a broader trend across years, noting that negative headlines typically outnumber positive ones.\n\n```{r}\n#| fig-alt: \"This plot shows the proportion of positive and negative NYT headlines by month from 2001 to 2002 Notice the spike in negative sentiment after September 2001, likely reflecting coverage of the 9/11 attacks.\"\n\nsentiment_month <- nyt_sentiment |>\n  pivot_longer(\n    cols = c(positive, negative),\n    names_to = \"sentiment\",\n    values_to = \"value\"\n  ) |>\n  filter(value == TRUE) |>\n  group_by(month, sentiment) |>\n  summarise(count = n())\n\nsentiment_month_filtered <- sentiment_month |>\n  filter(month >= as.Date(\"2001-01-01\") & month <= as.Date(\"2002-12-31\")) |>\n  group_by(month) |>\n  mutate(total = sum(count),\n         proportion = count / total)\n\n\nggplot(sentiment_month_filtered,\n       aes(x = month, y = proportion, fill = sentiment)) +\n  geom_col() +\n  scale_fill_manual(values = c(\"positive\" = \"#72B01D\", \"negative\" = \"#7C0B2B\")) +\n  labs(\n    title = \"Monthly Proportion of Positive vs Negative Headlines (2001–2003)\",\n    x = \"Month\",\n    y = \"Proportion\",\n    fill = \"Sentiment\", \n    caption = \"Proportion of positive and negative NYT headlines by month from 2001 to 2003.\"\n  ) +\n  scale_x_date(date_labels = \"%b %Y\", date_breaks = \"2 months\") +  \n  theme_minimal() +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n\n```\n\nThis plot shows the proportion of positive and negative NYT headlines by month from 2001 to 2003. Notice the spike in negative sentiment after September 2001, likely reflecting coverage of the 9/11 attacks.\n\n### Sources\n\nJurka, T. P., Collingwood, L., Boydstun, A. E., Grossman, E., & van Atteveldt, W. (2020). *RTextTools: Automatic text classification via supervised learning* (R package version 1.4.3) \\[Data set and software\\]. <http://www.rtexttools.com/>\n","srcMarkdownNoYaml":"\n\nThis project analyzes emotional tone in New York Times article headlines using regular expressions (regex). To analyze the emotional tone of New York Times headlines, I defined negative and positive word lists using keywords that commonly indicate negative events or risks (e.g., *crisis, warning, fall, decline, collapse, turmoil*) and positive developments (e.g., *success, rise, growth, progress, recovery*). Regular expressions were used to detect these words in headlines, including variations such as plurals or related word forms, allowing me to categorize headlines as containing positive or negative emotional signals and analyze how these patterns vary over time.\n\nThe data come from the `NYTimes` dataset in the RTextTools package, which contains New York Times headlines, publication dates, and metadata.\n\n```{r}\nlibrary(tidyverse)\nlibrary(stringr)\nlibrary(lubridate)\nlibrary(RTextTools) \nlibrary(forcats)\n\n\ndata(NYTimes)\nnyt <- as_tibble(NYTimes)\n\nnyt<-nyt |>\n  mutate(Date=as.Date(Date, format = \"%d-%b-%y\"))\n\nnyt_clean <- nyt |>\n  mutate(\n    clean_headline = Title |>\n    str_to_lower() |>\n    str_replace_all(\"[^a-z\\\\s]\", \" \") |> # REGEX 1: remove non-letters\n    str_squish(),\n    year = year(Date),\n    month = floor_date(Date, \"month\")\n)\n\nnegative_pattern <- \"\\\\b(crisis|warning\\\\w*|fall\\\\w*|decline|collapse|turmoil)\\\\b\" #REGEX 2: negative statement list\npositive_pattern <- \"\\\\b(success|rise|growth|progress|improve|recovery|gain)\\\\b\" #REGEX3: positive statement list\nrise_pattern <- \"(?<!sun)rise\" #LOOKAROUND: ensures it only picks up rise when it is not associated with sunrise\n\n\nnyt_sentiment <- nyt_clean |>\nmutate(\nnegative = str_detect(clean_headline, negative_pattern),\npositive = str_detect(clean_headline, positive_pattern) | str_detect(clean_headline, rise_pattern)\n)\n\nsentiment_year <- nyt_sentiment |>\ngroup_by(year) |>\nsummarise(\npositive = sum(positive),\nnegative = sum(negative)\n)\n```\n\n```{r}\n#| fig-alt: \"This line plot shows total yearly counts of positive and negative NYT headlines. It highlights general trends in sentiment over time, with negative sentiment usually dominating.\"\nsentiment_year_long <- sentiment_year |>\npivot_longer(cols = c(positive, negative),\nnames_to = \"sentiment\", values_to = \"count\")\n\nggplot(sentiment_year_long, aes(x = year, y = count, color = sentiment)) +\n  geom_line(size = 1.2) +\n  geom_point(size = 2) +\n  scale_color_manual(values = c(\"positive\" = \"#72B01D\", \"negative\" = \"#7C0B2B\")) +\n  labs(\n    title = \"Yearly Emotional Tone in NYT Headlines\",\n    x = \"Year\",\n    y = \"Headline Count\",\n    color = \"Sentiment\", \n    caption= \"This line plot shows total yearly counts of positive and negative NYT headlines.\"\n   \n    ) +\n  theme_minimal()\n\n```\n\nThis graph provides a broader trend across years, noting that negative headlines typically outnumber positive ones.\n\n```{r}\n#| fig-alt: \"This plot shows the proportion of positive and negative NYT headlines by month from 2001 to 2002 Notice the spike in negative sentiment after September 2001, likely reflecting coverage of the 9/11 attacks.\"\n\nsentiment_month <- nyt_sentiment |>\n  pivot_longer(\n    cols = c(positive, negative),\n    names_to = \"sentiment\",\n    values_to = \"value\"\n  ) |>\n  filter(value == TRUE) |>\n  group_by(month, sentiment) |>\n  summarise(count = n())\n\n# Filter to years 2001-2003\nsentiment_month_filtered <- sentiment_month |>\n  filter(month >= as.Date(\"2001-01-01\") & month <= as.Date(\"2002-12-31\")) |>\n  group_by(month) |>\n  mutate(total = sum(count),\n         proportion = count / total)\n\n\nggplot(sentiment_month_filtered,\n       aes(x = month, y = proportion, fill = sentiment)) +\n  geom_col() +\n  scale_fill_manual(values = c(\"positive\" = \"#72B01D\", \"negative\" = \"#7C0B2B\")) +\n  labs(\n    title = \"Monthly Proportion of Positive vs Negative Headlines (2001–2003)\",\n    x = \"Month\",\n    y = \"Proportion\",\n    fill = \"Sentiment\", \n    caption = \"Proportion of positive and negative NYT headlines by month from 2001 to 2003.\"\n  ) +\n  scale_x_date(date_labels = \"%b %Y\", date_breaks = \"2 months\") +  \n  theme_minimal() +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n\n```\n\nThis plot shows the proportion of positive and negative NYT headlines by month from 2001 to 2003. Notice the spike in negative sentiment after September 2001, likely reflecting coverage of the 9/11 attacks.\n\n### Sources\n\nJurka, T. P., Collingwood, L., Boydstun, A. E., Grossman, E., & van Atteveldt, W. (2020). *RTextTools: Automatic text classification via supervised learning* (R package version 1.4.3) \\[Data set and software\\]. <http://www.rtexttools.com/>\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":false,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"message":false,"engine":"knitr"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":true,"code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["styles.css"],"toc":true,"output-file":"NYTHeadlines.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.5.57","editor":"visual","theme":"journal","page-layout":"full","favicon":"tinyBaby.png","title":"New York Times Headlines"},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}